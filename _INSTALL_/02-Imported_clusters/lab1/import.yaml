
---
apiVersion: v1
kind: Namespace
metadata:
  annotations:
    workload.openshift.io/allowed: "management"
  name: "open-cluster-management-agent"

---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: klusterlet
  namespace: "open-cluster-management-agent"
imagePullSecrets:
- name: "open-cluster-management-image-pull-credentials"

---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: klusterlet
rules:
- apiGroups: [""]
  resources: ["secrets", "configmaps", "serviceaccounts"]
  verbs: ["create", "get", "list", "update", "watch", "patch", "delete"]
- apiGroups: ["coordination.k8s.io"]
  resources: ["leases"]
  verbs: ["create", "get", "list", "update", "watch", "patch"]
- apiGroups: ["authorization.k8s.io"]
  resources: ["subjectaccessreviews"]
  verbs: ["create"]
- apiGroups: [""]
  resources: ["namespaces"]
  verbs: ["create", "get", "list", "watch","delete"]
- apiGroups: [""]
  resources: ["nodes"]
  verbs: ["get", "list", "watch"]
- apiGroups: ["", "events.k8s.io"]
  resources: ["events"]
  verbs: ["create", "patch", "update"]
- apiGroups: ["apps"]
  resources: ["deployments"]
  verbs: ["create", "get", "list", "update", "watch", "patch", "delete"]
- apiGroups: ["rbac.authorization.k8s.io"]
  resources: ["clusterrolebindings", "rolebindings"]
  verbs: ["create", "get", "list", "update", "watch", "patch", "delete"]
- apiGroups: ["rbac.authorization.k8s.io"]
  resources: ["clusterroles", "roles"]
  verbs: ["create", "get", "list", "update", "watch", "patch", "delete", "escalate", "bind"]
- apiGroups: ["apiextensions.k8s.io"]
  resources: ["customresourcedefinitions"]
  verbs: ["create", "get", "list", "update", "watch", "patch", "delete"]
- apiGroups: ["operator.open-cluster-management.io"]
  resources: ["klusterlets"]
  verbs: ["get", "list", "watch", "update", "patch", "delete"]
- apiGroups: ["operator.open-cluster-management.io"]
  resources: ["klusterlets/status"]
  verbs: ["update", "patch"]
- apiGroups: ["work.open-cluster-management.io"]
  resources: ["appliedmanifestworks"]
  verbs: ["list", "update", "patch"]

---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: klusterlet-bootstrap-kubeconfig
rules:
- apiGroups: [""]
  resources: ["secrets"]
  resourceNames: ["bootstrap-hub-kubeconfig"]
  verbs: ["get", "update"]

---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: open-cluster-management:klusterlet-admin-aggregate-clusterrole
  labels:
    rbac.authorization.k8s.io/aggregate-to-admin: "true"
rules:
- apiGroups: ["operator.open-cluster-management.io"]
  resources: ["klusterlets"]
  verbs: ["get", "list", "watch", "create", "update", "patch", "delete"]
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: klusterlet
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: klusterlet
subjects:
- kind: ServiceAccount
  name: klusterlet
  namespace: "open-cluster-management-agent"

---
kind: Deployment
apiVersion: apps/v1
metadata:
  name: klusterlet
  namespace: "open-cluster-management-agent"
  labels:
    app: klusterlet
spec:
  replicas: 1
  selector:
    matchLabels:
      app: klusterlet
  template:
    metadata:
      annotations:
        target.workload.openshift.io/management: '{"effect": "PreferredDuringScheduling"}'
      labels:
        app: klusterlet
    spec:
      serviceAccountName: klusterlet
      tolerations:
      - key: "node-role.kubernetes.io/infra"
        value: ""
        effect: "NoSchedule"
        operator: "Exists"
      containers:
      - name: klusterlet
        image: registry.redhat.io/multicluster-engine/registration-operator-rhel8@sha256:56e82032570918e511a636acc9a6453f216bc7b80daf8eb75c650f432fea6a97
        imagePullPolicy: IfNotPresent
        args:
          - "/registration-operator"
          - "klusterlet"
          - "--disable-leader-election"
        livenessProbe:
          httpGet:
            path: /healthz
            scheme: HTTPS
            port: 8443
          initialDelaySeconds: 2
          periodSeconds: 10
        readinessProbe:
          httpGet:
            path: /healthz
            scheme: HTTPS
            port: 8443
          initialDelaySeconds: 2
        resources:
          requests:
            cpu: 50m
            memory: 64Mi
          limits:
            cpu: 500m
            memory: 2Gi

---
apiVersion: v1
kind: Secret
metadata:
  name: "bootstrap-hub-kubeconfig"
  
  namespace: "open-cluster-management-agent"
  
type: Opaque
data:
  kubeconfig: "YXBpVmVyc2lvbjogdjEKY2x1c3RlcnM6Ci0gY2x1c3RlcjoKICAgIGNlcnRpZmljYXRlLWF1dGhvcml0eS1kYXRhOiBMUzB0TFMxQ1JVZEpUaUJEUlZKVVNVWkpRMEZVUlMwdExTMHRDazFKU1VSTmFrTkRRV2h4WjBGM1NVSkJaMGxKVUVNMk1YQkhZMDFYY2pSM1JGRlpTa3R2V2tsb2RtTk9RVkZGVEVKUlFYZE9la1ZUVFVKQlIwRXhWVVVLUTNoTlNtSXpRbXhpYms1dllWZGFNRTFUUlhkSWQxbEVWbEZSUkVWNGFISmtWMHBzVEZkR2QyRllUbXhqYmxwc1kya3hjMWxwTVhwaFYyUjFXbGhKZHdwSWFHTk9UV3BOZDA1VVNURk5WRlY2VG5wQk5WZG9ZMDVOZWsxM1RsUkplVTFVVlhwT2VrRTFWMnBCTTAxU1NYZEZRVmxFVmxGUlRFVjNiSFpqUjFaMUNtTXlhSEJhYmxGNFNWUkJaa0puVGxaQ1FVMVVSMGQwTVZsdFZYUlpXRUp3WXpKV2VXUnRWbmxNVjNocFRGaE9jRm95Tld4amFrTkRRVk5KZDBSUldVb0tTMjlhU1doMlkwNUJVVVZDUWxGQlJHZG5SVkJCUkVORFFWRnZRMmRuUlVKQlMzSTRVWE01Vkc1WU5pdENlblZGUlVvMFVEZFBPR1o2UTBWS1pIbFNUUW9yUWtwUlJWaHVZbmhoZHk5cEx6SjJXbkJtUjBsblFYRlpRVFJ5WTBwdFUzUktka0ZJZFcxdGIyUllaU3RXYUhFeVZIVnFkbVJEU2tSNWEwVlpNVlpxQ21adFFXVk9kR3M0VW1wM1dIaHBUekJ3YVVsUmNVcENhbkZQZHpWblMwVXhLMmRsUzJ4NWVrSlFWbEpFYmtkMmJWaHBia3RSY1hOUlQybFNVMXBqU2xZS2NHdFJSVVJMTkZWMk5UVmpXbHBxZGk5TFUxbzFWVFZNZDA5WWNuZEZhemRLVjBoMmRWSlJNekppVWxWbVFVVkhOVk55ZEU5YVEwNUxaRE55Y3paNFpnb3dLMUkxUWxWdldsVlhOalpvV2l0VU56aEZiVUpTVGxWUE1HeFRUaXQ2VDJ0Tk1IVldVVGRLVW1JelNXaGpMMDVFWW5CcFpISTFRMWxzTms5UU4wRXpDbEZ6YjNZMFdrVjFObGhYTm5wYVRGZFJUVzlJWTNocVp5c3hUa1Y0WjJnclVFcGtkVzgyVFhoQmJEVndMekpSYWtsYUsySlRkbk5EUVhkRlFVRmhUa01LVFVWQmQwUm5XVVJXVWpCUVFWRklMMEpCVVVSQlowdHJUVUU0UjBFeFZXUkZkMFZDTDNkUlJrMUJUVUpCWmpoM1NGRlpSRlpTTUU5Q1FsbEZSa0kyVndwTFlWQklhbGhZTVhOc1dEUm9kMjlMZVhreVRUVmFNVVZOUVRCSFExTnhSMU5KWWpORVVVVkNRM2RWUVVFMFNVSkJVVU5TV1UxMU5GVk1NRXRRU25ScENqRm5iSHBLVG5SRlZTOXBaRmxTTUhCR2NrcFRSV05TYmtWVVVFVk1PRkYyY1hwalVuZDVaa1JhVjBRMlJYQnVZWHBEUjJaU2JGVktaMVJoSzA0MldHNEtVa2h6UWsxSmFVRkhiRUZsYVhwWldFOUJNMG8zYmt3eFNFUlBkRlkyUjJwaGJWcEZXVVpUUW5kWlFXMVZlbGsyYkZZMllqUXhTMkl3UVZRd1ZFOXlLd3BMUmpZcmRtNHhUMkpvU2xNelVXc3JMMFIzVFZKTVpsTkdVSFJJT0RKUlZVZHliM0UzZVVoTk5FaG1kM1JaT0hWbU1FWkNaVXQyVlhCS1V6VlViV1pWQ2tkQ0x6QlRRakpvZERobVowaEViV1pLV1hSWWJqQjFkR0Y0U1VSa09WRkdTalJ5Y2pad1MwaDBiR3RNWTAxd1JGWjBaSEZvV1ZONllqQXJOSFZ1TTJrS1pEbDVXVFptZGs5dmJrRlNabXBPWXk5Q2JUUkdXbXhTT1VKcmNEUTBSV1JaTWs5clRGSk5SVXczTlRkNGJXTkdTSFZDYW5kMVJtcFJWVWd5VjIwM053cHVlVTloVTFKMVdBb3RMUzB0TFVWT1JDQkRSVkpVU1VaSlEwRlVSUzB0TFMwdENpMHRMUzB0UWtWSFNVNGdRMFZTVkVsR1NVTkJWRVV0TFMwdExRcE5TVWxFVVVSRFEwRnBhV2RCZDBsQ1FXZEpTVWRrTm1OYUsyTXhOQzlWZDBSUldVcExiMXBKYUhaalRrRlJSVXhDVVVGM1VHcEZVMDFDUVVkQk1WVkZDa040VFVwaU0wSnNZbTVPYjJGWFdqQk5VMmQzU21kWlJGWlJVVVJGZURseVpGZEtiRXhYUm5kaFdFNXNZMjVhYkdOcE1YTmlNazVvWWtkb2RtTXpVWFFLWXpKc2JtSnRWbmxOUWpSWVJGUkplazFFVlhsT1ZFVXhUWHBqZDA5R2IxaEVWRTE2VFVSVmVVMXFSVEZOZW1OM1QwWnZkMUJxUlZOTlFrRkhRVEZWUlFwRGVFMUtZak5DYkdKdVRtOWhWMW93VFZObmQwcG5XVVJXVVZGRVJYZzVjbVJYU214TVYwWjNZVmhPYkdOdVdteGphVEZ6WWpKT2FHSkhhSFpqTTFGMENtTXliRzVpYlZaNVRVbEpRa2xxUVU1Q1oydHhhR3RwUnpsM01FSkJVVVZHUVVGUFEwRlJPRUZOU1VsQ1EyZExRMEZSUlVGd01XZENhWE5NTVVSSlZ6a0tiVnBqUzJvNFkxbDVjMnhtZUcxMEsxbzNNa1pOT0ZwREwyZDVTbmRPU1VSSmFtbFVRbGRuV0hSMVRFWjJkVGMxSzNKeVYwODFkREJNUmpSeVJuRnZSUW8wYTNsQ2QyZzBlbXRtYVVaTGFsTnNjMk5sUTBodU9YZEdUMHRKZVhwRWExWTBSVVpKV1d0UGIwdzNaekJTU0ZwU01GTklNa04wVUhZM1dXeGpWVWNyQ2l0bFVUUm9TRkZpVjA1TUwwaGpaVE5UVWxkS1MwdHZPVlJrYWpaRFRUUTVjRWw1YkhaaVpVRnhZVTU1VnpJclZUVmlkWHBqSzA1dVQybElkbVZXT0djS1pESXdSamxtWmtWaFRrZElVM05RYVhsRmVUaHBkaXRYTWpkNlNFcFBhREJhV1U1eFZtUjZVMU5HTld0UVYxa3dUR3N2VUdOR1NrMU9TekZVVFdObUx3cEVTVmh5U1ZJMGJuaE5jbVJDWW01d2NFVnZZekpVZHpWMlkwODFZMUo1UWxVM05rTjNRVXBtUkRWSlprMWpkbVpVUWtKVGFqaEplbnByV1d0UVJVMVBDazFQWjNOUE5HbDJRM2RKUkVGUlFVSnZNRWwzVVVSQlQwSm5UbFpJVVRoQ1FXWTRSVUpCVFVOQmNWRjNSSGRaUkZaU01GUkJVVWd2UWtGVmQwRjNSVUlLTDNwQlpFSm5UbFpJVVRSRlJtZFJWU3RqUkdJd2RtOVhabUZyYml0d1kxUTVSRWx4VERneWNUTjZUWGRFVVZsS1MyOWFTV2gyWTA1QlVVVk1RbEZCUkFwblowVkNRVUZHU1VOMWFWUm9TM0JLVmpFeGNtSnBObkpxTUhoblZITnlVR0pKWm5SdVVEUjZTMHB4Y1doblVGRkZiVUZUUjJzMGREZG5UM0E1ZDA1VkNscHlORVpSVGt0clJHZGpORXBIWlRsMVpUZFVVME5zVDNKb1NYTnFVMnBsYVhWeFEwRmxlVFZWY1dKaVZuZENSbGxvYUVKMGFXNXZiMjl2SzNWYVpqUUtNazVKVUhsd2VtWllOWFZSZEhaMVNIa3JaM1J0VFhwbmRVODRjVlpvVTI5UmQweFVWV0U1ZVhGdksyZE5UM0Z6YlhweWJuaEZkbk4xVm01NFlrcHBZUXAwYWxaUmEzaFlNelZ2TVd4UlJIbEhlRU5aWkhsdVJqSnJTMFJZVURaSk1URXlXRXhKV2xGRWVpOTBORGhpUm5aNk1YTkhPRkpDUXpCWE5qVkxRV1IzQ25KTFdqQlpUVW8yU3pGdVZqWlBOek40UVdsMk5EQkhkVmRtU1dweFRURk1kWFpTZDBaMmNrdElNVlpGYkhKMmNWSlpjRGMyYUd4eFRWTndNbkI0VW5rS1dFeEhRMVp1V1RWcVdHZDFXR2RPUjFaQ1FsWldhM1poZVVaalBRb3RMUzB0TFVWT1JDQkRSVkpVU1VaSlEwRlVSUzB0TFMwdENpMHRMUzB0UWtWSFNVNGdRMFZTVkVsR1NVTkJWRVV0TFMwdExRcE5TVWxFVkVSRFEwRnFVMmRCZDBsQ1FXZEpTVWRpVkVSTk1qZFdSRVZuZDBSUldVcExiMXBKYUhaalRrRlJSVXhDVVVGM1VrUkZVMDFDUVVkQk1WVkZDa040VFVwaU0wSnNZbTVPYjJGWFdqQk5VelIzVEVGWlJGWlJVVVJGZVZaeVpGZEtiRXhYUm5kaFdFNXNZMjVhYkdOcE1YcGFXRW95WVZkT2JFeFhOV3dLWkVoa2RtTnRjM1JqTW14dVltMVdlVTFDTkZoRVZFbDZUVVJWZVU1VVJURk5lbU4zVDBadldFUlVUWHBOUkZWNVRXcEZNVTE2WTNkUFJtOTNVa1JGVXdwTlFrRkhRVEZWUlVONFRVcGlNMEpzWW01T2IyRlhXakJOVXpSM1RFRlpSRlpSVVVSRmVWWnlaRmRLYkV4WFJuZGhXRTVzWTI1YWJHTnBNWHBhV0VveUNtRlhUbXhNVnpWc1pFaGtkbU50YzNSak1teHVZbTFXZVUxSlNVSkpha0ZPUW1kcmNXaHJhVWM1ZHpCQ1FWRkZSa0ZCVDBOQlVUaEJUVWxKUWtOblMwTUtRVkZGUVhJdlRFcHNVbU55VFhGVmJrRnVZbmROVEZkVFFtcFhObVEyVWpNdlRpOVFjMmN4U21KVksyRjNabEE1WkVVMlJtbGFkMk5MVTJWS09FRnBiQXBaZWxCWGEzcEZaVmxyUTIxNFdEYzJhMnN5YW1ZNE1GaGlkaXMxWTJwVFozUndjQ3N2UkZsbWJYVXJiamRNWjJWMVprbzRaVGg2Y1hkNGRpOTNUV2RLQ25sak1VTktjbkJEZDNSSmJYSmhkbkl5VWpseVp6a3lkbk5qVEdocE1FcEhWVXBqVXpSQ09FcHdkRzAwZUdnMlZIZzRWbkkyY0Uwd1QzRXliVXhDVEdNS1YyTktjbTEzVG01R1ZscHBiUzlPWkRSUlJVZzNlWFZTUkVOSlNFeGFjeXRPZEhCRlNHUTNLMmxNU0dsemNIUkZabFZaVW05aFVWUllWMFJhT1VGeFN3cG5iMWhoY0VWdFlrTnFibkJZWWpoa05Xc3JaSGx5ZERVNWFqSndia0lyVTBwSVRuVjBaV0ZpVUdGVlJsaFNja2N4YUdZeVpsRTJXR2d5UWxvMGVXMXZDa28xV2twYVkxQmpRMVExYmpOcWNXdG1iVXAxSzBKdlVXSjNTVVJCVVVGQ2J6QkpkMUZFUVU5Q1owNVdTRkU0UWtGbU9FVkNRVTFEUVhGUmQwUjNXVVFLVmxJd1ZFRlJTQzlDUVZWM1FYZEZRaTk2UVdSQ1owNVdTRkUwUlVablVWVkVMemt2Wm1sTFdHSkVhRXQ1TkRFelNIZEpZbUpaVlVsd1pqQjNSRkZaU2dwTGIxcEphSFpqVGtGUlJVeENVVUZFWjJkRlFrRktkVVY1UVROYU9IWmpZazlGZEZVeFNHOUlTVzlGYWs5YVZXNUZlVzk2TUdGUVQyTjJPVXBpYkdGSUNsQnhNalZNYUcxa09WVjJRWGxQVGtkQmJrbExVVGRzVlVGcWVVbGxOalV3WlZCdU9GWndkRXRDVjFsRGNFczNkSEpoUVRSUUx6Wm1UR0ZZYkZWdFNUSUtOWGc0ZVc5ak0xbDVVRmxFUjBGUmRHY3hRbVEyVDNCc2FsSjViMjE0YTBWMmNHdFJlSGR5TlhaS1VIYzBVeTlvVlhKbGVDdElXV2RJY0hSUmFVTkhSZ3BxTmpoU1UyWkRNMWh3ZGt4WWIwRnBWR2hwVGtvM01TOXNUMUJPWWtwcFpsWkhUVGxIVWxGMFprbE1SMmMxUVUxdU5XaDJlRzA0U214eGNWRk9hbTFNQ2t4SmRDc3ZNa3BHU21kcVRrTlNaVWRtYVVOc09TOTZUMGRhUzI5SU9ESXpiMWxSUkhVeWRrRjBXVEYxVm1kRlVISnVkMnc0TW5GeFpVdEpSemszYUZJS00zUTNhRFV4ZEU5dFJFRnhlakZRUVRGalRXcEdlV1JYVnpaVmFrOXhOMFZMVFc0d1VqQTFORWN5T0QwS0xTMHRMUzFGVGtRZ1EwVlNWRWxHU1VOQlZFVXRMUzB0TFFvdExTMHRMVUpGUjBsT0lFTkZVbFJKUmtsRFFWUkZMUzB0TFMwS1RVbEpSR3g2UTBOQmJpdG5RWGRKUWtGblNVbFFOalpNVEVjMFFsTldSWGRFVVZsS1MyOWFTV2gyWTA1QlVVVk1RbEZCZDFkVVJsaE5SbFZIUVRGVlJRcEJkM2hQWWpOQ2JHSnVUbTloVjFvd1RGZDBNVmx0VlhSWldFSndZekpXZVdSdFZubE1WemwzV2xoS2FHUkhPWGxZTW5oMldUSkdjMkZIT1hwa1F6RjVDbHBYVG5aa2JWWjVaVk14ZWxwWVNqSmhWelZ1VEZoT2NGb3lOV3hqYTBGNFRtcG5NVTFFVFhkTmVrMDBUVUkwV0VSVVNYcE5SRlY1VGxSRk1VNVVaekVLVGpGdldFUlVUWHBOUkZWNVRXcEZNVTVVWnpGUFJtOTNWMVJHV0UxR1ZVZEJNVlZGUVhkNFQySXpRbXhpYms1dllWZGFNRXhYZERGWmJWVjBXVmhDY0Fwak1sWjVaRzFXZVV4WE9YZGFXRXBvWkVjNWVWZ3llSFpaTWtaellVYzVlbVJETVhsYVYwNTJaRzFXZVdWVE1YcGFXRW95WVZjMWJreFlUbkJhTWpWc0NtTnJRWGhPYW1jeFRVUk5kMDE2VFRSTlNVbENTV3BCVGtKbmEzRm9hMmxIT1hjd1FrRlJSVVpCUVU5RFFWRTRRVTFKU1VKRFowdERRVkZGUVhweU1YSUtNRXBUYmxGQ2JYUXhaWFJ6T0Zob1NUTkxaVVJEZDFjdmVEZDVlVnBUT1RoRlZ6UnlTSHBhWVRJMFpVWlBRMjFZZVVNeFRtUmhWSEZDYTNSUGJtbDRlQXBJTW1VMUx6UldlWFIyY0RsTlFYTXhZa2xSY2sxSE1qaFRWVVp0YWpGcWQzSmpiMnhNUTAxd1prZDFSa2xIZEN0SFZsWnBURUZoYm5sYVVqZGxVWFJMQ2pKSVYxZGplRTlwYTBVd2MyNWlWMlpwV1d0S1JqUklja2xsTURJMlMwdGlVbUZGYzI1UFZuQXJhRWhDYUdkbE5VYzFaRTVPUTNGMU9YSlZTVEVyY1hNS1dFdFNOMHhyZFNzNVJFcEpiRlJVUXpKa2NGSkRiREZCWVc1dVRGcE9abUpXTVZwdmNXdEJjMGRSYlhoclVsTm9PWGg1U0dsM1JFYzRVbFExYjJsQ1VnbzJZVFF4Y0hCMVdEQkdUak52VUhKamFYQjNkVVpzYjBWb2NYTmpNbE55VGtwUGJFRTNVbUl3TWtodFduUnROMHhISzB4UmRqSXljRzUyZVRsdk1FZ3lDa0Z3ZVRGM1VqTnVRV2hqTldaVFVFYzBVVWxFUVZGQlFtOHlUWGRaVkVGUFFtZE9Wa2hST0VKQlpqaEZRa0ZOUTBGeFVYZEVkMWxFVmxJd1ZFRlJTQzhLUWtGVmQwRjNSVUl2ZWtGa1FtZE9Wa2hSTkVWR1oxRlZjMUZxY0VWdFNWSmFlVEZTVWpWSE56bFRSWEZvZUZjMGIxRTBkMGgzV1VSV1VqQnFRa0puZHdwR2IwRlZjMUZxY0VWdFNWSmFlVEZTVWpWSE56bFRSWEZvZUZjMGIxRTBkMFJSV1VwTGIxcEphSFpqVGtGUlJVeENVVUZFWjJkRlFrRkpjMXBWY1VscENqUkdaVXhYU3prcmJXUm9VRGRPTUc5aU4xQnhhRm92YVVNd1kwZHdTVmxrWlhNMGQyaFdlbVlyVTBvNU15c3pWbEV3TmtOaWQydHJZa3RYTnpVeFlpOEtWUzg1TVhoTFdEUkVURUp5UmtwMGEweFJWV3czV1RRMVpVbEtaMlY2YTJGa01WSXZObFpYZVhKYVkyUkpkWFZWV21kVVVYWlFlbWgxVlZBeE5uQTJaUW94VVhWcVRVWnFWak5pU25SM2MwUnVhbWhoU21SRFVtVkxaSGxKZVRCTFpXTk9aR3A0YmxvMlNGQk1TVFkwT0ZvM2EwRTNTMGMzVm5wcmJVVnRWRzFFQ2pab1NXeHFWSGxMUTNoeFVGRkliRFZSTDBSR1lXdFdSVlZNT0hGdWNHbHZVQ3RrYUZsWk5GRTJSblJ0VGtWM09VUTNRMDkxZDJ0RFNWbzROVFZtTTJZS1VUWlFlbTU0UWpJNFduZHhabVpYVldKTk4yeFNUV3BzWkhSc1ptcDZZemxpUkRoUE9ESkRMMVYxWlN0MWJGUlBXRmx2Wm1rNE9FeHpXREZxTkhsbWVncHNhVTluU2twNlRWUmhUekprU0ZrOUNpMHRMUzB0UlU1RUlFTkZVbFJKUmtsRFFWUkZMUzB0TFMwS0xTMHRMUzFDUlVkSlRpQkRSVkpVU1VaSlEwRlVSUzB0TFMwdENrMUpTVVJpVkVORFFXeFhaMEYzU1VKQlowbEpSRTlwS3pkT2NXSnhUbFYzUkZGWlNrdHZXa2xvZG1OT1FWRkZURUpSUVhkS2FrVnJUVU5KUjBFeFZVVUtRWGQzWW1GWE5XNWpiVlo2WTNreGRtTkhWbmxaV0ZKMlkydEJlRTVxWnpGTlJFMTNUWHBaTlUxQ05GaEVWRWw2VFVSVmVVNVVSVEZPVkd0NVQxWnZXQXBFVkVreFRVUlZlVTVFUlRGT1ZHdDZUVVp2ZDBwcVJXdE5RMGxIUVRGVlJVRjNkMkpMYVRWb1kwaENla3h0YURGWmFUVjJXVE5CTUV4dVducE1iVTU2Q21GWE5UQk1iVTQyVFVsSlFrbHFRVTVDWjJ0eGFHdHBSemwzTUVKQlVVVkdRVUZQUTBGUk9FRk5TVWxDUTJkTFEwRlJSVUUwYVVJNWNITmpZWFZoVjJrS1RXVTBlU3RTTmtGUFpUaHVlVTQxWkdSb1R6RXJWVGh1TkVoeWMwNVhNbTVxUW5CMlVqUlRMMng0UzNsc1YzZDVZMkY2Um1seGFUQm1VUzgzWTNseWN3cEZVVE00YlRsdlQxbG5XWEZNZVZweVdqVkljM1J6VWt4MVNFRmtVRlZzV25rNVpsUXhXbmRsWVdGU1JtTm9jVFkwT1dOM1JsRnVNalJDZUhvM04waDFDbUZSVkd3d2VUUktTMGRuWWt0cVp6SXlaM1UwUWtaaVZXZzVOMUpCVkhCV2RWQnJhRWRsTUdzMFR5OXNVR1pEZVdka1JXZE9MMjVsVmxKMFlWVkhiM1lLT0V4d1YwRlhVRzlUTWxaTVltZDVZbTlaT0c5dVJrZEtSMjFUSzNwS1FrSlhiVkEwYms1WGRIaEJZbFExTDNjNFNtZDRUbE5wWVdkYVprOHJkR2g0VUFwWFpIQkJObWN4ZFdSamFGSmhVV2hYVFZoeVMwVTBWQ3N3VDBseVoyaGhSVFZ0S3pSdlVqZE1OQ3RhVm5aaWIwWkVjRXA2VHpGM2RVZHVjVUZ3TlcxSkNtaFRieTlIVUZaVmFGRkpSRUZSUVVKdk5FZGxUVWxIWWsxQk5FZEJNVlZrUkhkRlFpOTNVVVZCZDBsR2IwUkJWRUpuVGxaSVUxVkZSRVJCUzBKblozSUtRbWRGUmtKUlkwUkJWRUZOUW1kT1ZraFNUVUpCWmpoRlFXcEJRVTFDTUVkQk1WVmtSR2RSVjBKQ1VtWkJhbU0ySzJwYVpUaGFlbXBpWm5wT2JqRkpTUXBMZUZKVWJVUkJaa0puVGxaSVUwMUZSMFJCVjJkQ1VXTTROSFJ0WkhSWVZGaFFlalZMVTI5RFkyVXpVUzlvVEZwTFZFRnRRbWRPVmtoU1JVVklla0ZrQ21kb2MzRk1iVVozWTBoTmRXRklWbWxNYlRscVkwUlJkV1J1VFhWWk0wNXdZbTVSZFZremIzZEVVVmxLUzI5YVNXaDJZMDVCVVVWTVFsRkJSR2RuUlVJS1FVWnhZbU4wT1c1amVYWnZTRVZJUW1RM2VXZ3hUbmNyYTJjdlVuTmpTVzU0YlVSd2FqbHpNV3RsTURKUE5qTTVlRWhtYjI1VGJqVkNOblYyZVhaaU5RcFhWblpaUlVONWRYcDBTekpxY1dsRVkwNXRWV1JSS3pCeGNtdHFNamhYZDBkSWIyOVBRWFJNVkdNdlp6UmpZbXQwYUZBMk9FTllOVkZ6ZFZCdVJVbEVDa1ZaWWtseU9UaERhR1F3YlVoSWNsWTJUVU5NUVhkTFYyMXFha2RRTlc1RmNXWnplbkZIUW1GNVIzaDJNMmc0UjNsS2QxcHZRMXBaZERWS1prMWpaaklLU0M5eWJ5dENUMjAwUmxRMmIyTmlhRzFUV21odFEydHNaSFJoTW1KeGRFTXpVRzFDWVhaamQycDZRazlSVkRaUWEweHhRamM0VVhKR1RqUkhLemRqUWdwcUx6aGpSbmRuU1RsWFRXaFdRWGt5U1d4Q1pWZENhRTAyZGl0UloyaHpWbEZpYldWUlRreE5iMUZvUWpWc2RsSllPRTVDWjNFMFRGSm5SRTlITW14eUNuZEdXR3QwV2poMkwxSjBRVUZKU2twcGRrSnNSWEZuUFFvdExTMHRMVVZPUkNCRFJWSlVTVVpKUTBGVVJTMHRMUzB0Q2kwdExTMHRRa1ZIU1U0Z1EwVlNWRWxHU1VOQlZFVXRMUzB0TFFwTlNVbEVSRVJEUTBGbVUyZEJkMGxDUVdkSlFrRlVRVTVDWjJ0eGFHdHBSemwzTUVKQlVYTkdRVVJCYlUxVFVYZEpaMWxFVmxGUlJFUkNkSEJpYldSNUNscFlUbnBNVnpsM1dsaEthR1JIT1hsUlJFVXlUMFJWZDAxNlFYcE9hbXQzU0doalRrMXFUWGRPVkVreFRWUlZNVTlVU1RSWGFHTk9UV3BWZDA1VVNUQUtUVlJWTVU5VVNUVlhha0Z0VFZOUmQwbG5XVVJXVVZGRVJFSjBjR0p0WkhsYVdFNTZURmM1ZDFwWVNtaGtSemw1VVVSRk1rOUVWWGROZWtGNlRtcHJkd3BuWjBWcFRVRXdSME5UY1VkVFNXSXpSRkZGUWtGUlZVRkJORWxDUkhkQmQyZG5SVXRCYjBsQ1FWRkRPVzlTZDJoWk9HUnFlVGRXUjBSVkwyWXpXVFZwQ2t3d01GcEdiWEphTnpWdFpIaE5WMWRDS3l0a2FGTnBaWFVyVTNNMldUQk9TV3RYVkZkbFZHZDRRa1ZpWjJOcU1EWnlUSGRrT0hkSlZrWnhXSEF6U0RrS1p6TTJZM2MxYkhSU1JEaHRjMnh2T0ZneVkwTjVWSE5QV25ncmRUVndjVnAyUWxkVGVYTnNOVTR2U2tGd2NVMXNkUzh3ZEdZeVMySm1ZVlZEUVdkTE9RcE1TMDlwY2xGNldETTBWRGhaUlhSc1ExVnZZekJ1YmxWWGFtRlBkM0pqSzJOM09VOW5UekZtZVRZNFIyTnRVRmxVVWtsUUwwSlVhbUp2TldWUGFIUlNDbWt2WTFKTmNrb3ZkbGxyVG5VNE9IWktVMG8zVlhjeVFYcG1VREpzYjNCT2RtbEZNVWd4WjNOcllXdE1RMjQ0ZW5Bd2EyUXllV3BQVWpkRVREQlFWREFLVmxKellUWjBlQ3RQTms4MGRXMXRNalYyTWpGSk1FWXhRazlPTTA1bmEzSjBialJSTVdkS2JsZGxSMUpTV1cwMlZqVkplV0l5UTNOaU4wWlVTa3RYYUFwQlowMUNRVUZIYWxKVVFrUk5RVFJIUVRGVlpFUjNSVUl2ZDFGRlFYZEpRM0JFUVZOQ1owNVdTRkpOUWtGbU9FVkRSRUZIUVZGSUwwRm5SVUZOUWpCSENrRXhWV1JFWjFGWFFrSlJZemcwZEcxa2RGaFVXRkI2TlV0VGIwTmpaVE5STDJoTVdrdFVRVTVDWjJ0eGFHdHBSemwzTUVKQlVYTkdRVUZQUTBGUlJVRUtkVlpxT0ZkU1dFRlpkVXBhZUVWb1NHWTVObHByUVRoMmJUQTFValYxUm5kellrNUpkamRRVXpaMGRsUnBVVWhtZDJOUGJISklRMEkzYUVGd1F6VlJRZ3BvYlZSUFFtaFJiVUV5VFhWRFdVcERlVEF2VEdveE5UUkNXbmRHUVUxQ2IzWkZjMjA1WVRSaFFrRnRibTlCVmk5QmJXd3ZZazFDUm10aGIxb3dRMnAzQ21OaldtcFZWRk0zVFVSVVRITmpSMlpKYmpWRU1YTmljak5PWW05RFNuSmphVGxHZG5aaFlrUTJZMm95U2pSbmJEVnplSEJrVEhNdk9XVnRPSEpPYVhvS0x6UnFWVEpSVUVwRU5WazVjRmxhVVhoeVIybGpRbmx4Tm5obFpXTlFhbTVpY1VoTGVDOXBZamxCZVVNNWFtWTJPVmx4T0hoUFYyMXhNM1l5TW1oR01RbzBaSGw2WkVWTUt6VkROV2hLYTJ4S1RFODVjRnAwT1hNeFkzRjROREZoV2tsT1pWVk5hR1F5UlVNMWIwbFBSWE4yUWtadFdqWTViV1pCTDJGMWNYaDBDbTVEYVhodVdFSXhObWhqV0hZdllYUTBUVzluU0djOVBRb3RMUzB0TFVWT1JDQkRSVkpVU1VaSlEwRlVSUzB0TFMwdENnPT0KICAgIHNlcnZlcjogaHR0cHM6Ly9hcGkuaHViLm9jcDQudnMuY3NpbnQuY3o6NjQ0MwogIG5hbWU6IGRlZmF1bHQtY2x1c3Rlcgpjb250ZXh0czoKLSBjb250ZXh0OgogICAgY2x1c3RlcjogZGVmYXVsdC1jbHVzdGVyCiAgICBuYW1lc3BhY2U6IGRlZmF1bHQKICAgIHVzZXI6IGRlZmF1bHQtYXV0aAogIG5hbWU6IGRlZmF1bHQtY29udGV4dApjdXJyZW50LWNvbnRleHQ6IGRlZmF1bHQtY29udGV4dApraW5kOiBDb25maWcKcHJlZmVyZW5jZXM6IHt9CnVzZXJzOgotIG5hbWU6IGRlZmF1bHQtYXV0aAogIHVzZXI6CiAgICB0b2tlbjogZXlKaGJHY2lPaUpTVXpJMU5pSXNJbXRwWkNJNklraFJOMDAwU2trMFltTjRaVmRZTjFkbVJtOUZjVFZ1ZFhWUlNVZGxWRUZ2YkRCT2JUTnNTamhZYW1zaWZRLmV5SmhkV1FpT2xzaWFIUjBjSE02THk5cmRXSmxjbTVsZEdWekxtUmxabUYxYkhRdWMzWmpJbDBzSW1WNGNDSTZNVGN4TmpRMk5qQXhNaXdpYVdGMElqb3hOamcxTXpZeU1ERXlMQ0pwYzNNaU9pSm9kSFJ3Y3pvdkwydDFZbVZ5Ym1WMFpYTXVaR1ZtWVhWc2RDNXpkbU1pTENKcmRXSmxjbTVsZEdWekxtbHZJanA3SW01aGJXVnpjR0ZqWlNJNklteGhZakVpTENKelpYSjJhV05sWVdOamIzVnVkQ0k2ZXlKdVlXMWxJam9pYkdGaU1TMWliMjkwYzNSeVlYQXRjMkVpTENKMWFXUWlPaUppTkRFMFl6YzVOQzB3TWpnM0xUUmhZakV0WWpBd01TMWxPVFF6TnpRMk5EazFZMlFpZlgwc0ltNWlaaUk2TVRZNE5UTTJNakF4TWl3aWMzVmlJam9pYzNsemRHVnRPbk5sY25acFkyVmhZMk52ZFc1ME9teGhZakU2YkdGaU1TMWliMjkwYzNSeVlYQXRjMkVpZlEuZlhlMGRiN2JjOElKZUxUdi1HMzU0V1Q1RER5SWt5VW1PT2FvY2o3WUs0YkVEb0pTUm5WUFpnZ1Nyb3VVMXMzYk4xV0NlTkNVVVFXblZLbGYzT1dGeEpmWHQtTzF3NUZGR3RjRklmR0VDc3B2QXN1WW14ZWdUckR6RUdGa0xwaEtyZFl2WlJqb29hbzdRNmpJY0I0Y2l1WDVKZkViUHMxR0RkWUFNVjUydVEycDM3bUsyOUlWRnJhN1UtSlJ3NzAxNkNFUVJkbUMzYXoyaVlBTmpIMUxuUFdOWlQtLTQ1d1dfMEd4aWhPSWJUd3hwVjFjRzZMTFlrUkdiT1BrN1h0U29LU0xLcGRnOWRtdkZhVWhOZ01qem41cEFZTGZHdkhvVE1pLWlkUjJSMUg1SVlFYUdFV2lNZXl5RXdxb3VQSzkwMmlkTm9wVGZ4YlhxOEtvaURlUmhEZzVkQWxyN3h2THhCbmtENjViQ2NjeExIRC1mUDk2QlJQWV9uVXFSOXAwQnNEZ1VuLWtGN1N5Mll2S2hZUlhZZS1jQ1p1R3FxZktTaVFSdF9pTjVNV2lSQ2ZxYzhnQndEajdnenlTM1N1LWtMcEc0Zld2NmJNNjVxN3NmSlkwdzNzeEo5LXBVN2c4amdWZ0FpTmhPaGR5NXJfczR6UFhJQXYwaF8wMFJXSlBsN3ZVX3N1d1pwdHh1MkUzeEwwOXRIVmZoYUFwVW1zcThqMjUyZWg3dlVRdXUyTXhfdVJ6QWltZnp6RDFDRG43WERrenBvN3ptaU1yci1DQWgwR1czalFOZjlJVW5leU9wV21JSUxrQU5sZGVXYXVtWDZvX3NncG5VRVhkb1c1aHJ4TXQzZnFJSnE0OTdHNHpvUFM3UTNoM1lBdjdJM0NOWE5RaDY4Rkl3a0EK"

---
apiVersion: operator.open-cluster-management.io/v1
kind: Klusterlet
metadata:
  name: klusterlet
spec:
  deployOption:
    mode: Default
  registrationImagePullSpec: "registry.redhat.io/multicluster-engine/registration-rhel8@sha256:f82e921b3348d3dd4ce24914d8d9197863a9760b364b79c0a653d6d8da888d48"
  workImagePullSpec: "registry.redhat.io/multicluster-engine/work-rhel8@sha256:0019a5e56b4aef6e13ed60aabff39e05c56b479f35ccb3f8d1e90834f8632d59"
  clusterName: "lab1"
  namespace: "open-cluster-management-agent"
  nodePlacement:
    tolerations:
    - key: "node-role.kubernetes.io/infra"
      value: ""
      effect: "NoSchedule"
      operator: "Exists"

---
apiVersion: v1
kind: Secret
metadata:
  name: "open-cluster-management-image-pull-credentials"
  namespace: "open-cluster-management-agent"
type: kubernetes.io/dockerconfigjson
data:
  .dockerconfigjson: eyJhdXRocyI6eyJhcnRpZmFjdG9yeS5jc2luLmN6Ijp7ImF1dGgiOiJjM2x6YjNCbGJuTm9hV1owTFdSbGNHeHZlVG8yUjFGYVEycDZSa055VmxSdCIsImVtYWlsIjoiZGV2dG9vbHNAY3Nhcy5jeiJ9LCJjbG91ZC5vcGVuc2hpZnQuY29tIjp7ImF1dGgiOiJiM0JsYm5Ob2FXWjBMWEpsYkdWaGMyVXRaR1YySzNCbGRISm9ZWFJ2Ym5OcGRITnZiSFYwYVc5dWMyTjZNV3hxTlhrNGFUTnFNbTF3Ym5OemVuQmphbVpvZDI1dWRuQnpPamxPVUUxRVZWRTFSelJKT1ZRNFN6bEhTMDFZTkRreVVFZ3lRMDA1UlZSV1RUY3dNVXRVU0RoTVRVRlpUazFOV0VaSVJFZFVUVWhMUmtkWVFrWkNSMWc9IiwiZW1haWwiOiJwaGF0b25AY3Nhcy5jeiJ9fX0=
